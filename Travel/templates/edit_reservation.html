{% extends 'base1.html' %}
{% block abc %}

<div class="container mt-5">
    <h1 class="mb-4 text-center text-primary">Update Booking</h1>
    <form method="POST" class="needs-validation" novalidate>
        {{ form.hidden_tag() }}  

        <div class="form-group">
            <label for="user_id">User ID:</label>
            <input type="number" name="user_id" class="form-control" value="{{ booking.user_id }}" required>
            <div class="invalid-feedback">
                Please enter a valid User ID.
            </div>
        </div>

        <div class="form-group">
            <label for="flight_id">Flight ID:</label>
            <input type="number" name="flight_id" class="form-control" value="{{ booking.flight_id }}">
        </div>

        <div class="form-group">
            <label for="hotel_id">Hotel ID:</label>
            <input type="number" name="hotel_id" class="form-control" value="{{ booking.hotel_id }}">
        </div>

        <div class="form-group">
            <label for="package_id">Package ID:</label>
            <input type="number" name="package_id" class="form-control" value="{{ booking.package_id }}">
        </div>

        <div class="form-group">
            <label for="status">Status:</label>
            <select name="status" class="form-control" required>
                <option value="">-- Select Status --</option>
                <option value="Confirmed" {% if booking.status == 'Confirmed' %}selected{% endif %}>Confirmed</option>
                <option value="Pending" {% if booking.status == 'Pending' %}selected{% endif %}>Pending</option>
                <option value="Cancelled" {% if booking.status == 'Cancelled' %}selected{% endif %}>Cancelled</option>
            </select>
            <div class="invalid-feedback">
                Please select a status.
            </div>
        </div>

        <button type="submit" class="btn btn-success btn-lg btn-block mt-3">Update Booking</button>
    </form>
    
    <div class="footer mt-4 text-center">
        <a href="{{ url_for('travel.admin_dashboard') }}" class="btn btn-link">Back to Dashboard</a>
    </div>
</div>

<script>
    // JavaScript for form validation (Bootstrap)
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
    })()
</script>

{% endblock %}
